<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title></title>
		<script src="js/mui.min.js"></script>
		<link href="css/mui.min.css" rel="stylesheet" />
		<link rel="stylesheet" href="css/index.css">
	</head>
	<body>

		<header class="mui-bar mui-bar-nav">
			<a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
			<h1 class="mui-title">北京-上海</h1>
		</header>
		<div class="mui-content">

			<div class="mui-scroll-wrapper mui-slider-indicator mui-segmented-control mui-segmented-control-inverted">
				<div class="mui-scroll">
					<a class="mui-control-item mui-active">
						今天
						<span>2018-12-12</span>

					</a>
					<a class="mui-control-item">
						明天
						<span>2018-12-13</span>
					</a>
					<a class="mui-control-item">
						后天
						<span>2018-12-14</span>
					</a>
					<a class="mui-control-item">
						<span>2018-12-15</span>
					</a>
					<a class="mui-control-item">
						<span>2018-12-16</span>
					</a>
					<a class="mui-control-item">
						<span>2018-12-17</span>
					</a>
					<a class="mui-control-item">
						<span>2018-12-18</span>
					</a>
					<a class="mui-control-item">
						<span>2018-12-19</span>
					</a>
					<a class="mui-control-item">
						<span>2018-12-20</span>
					</a>
					<a class="mui-control-item">
						<span>2018-12-21</span>
					</a>
					<a class="mui-control-item">
						<span>2018-12-22</span>
					</a>

				</div>
			</div>

			<ul class="mui-table-view">
				<li class="mui-table-view-cell mui-media">
					<a href="javascript:;">
						<img class="mui-media-object mui-pull-left" src="images/北京.jpg">
						<div class="mui-media-body">
							北京到上海
							<p class="mui-ellipsis">8:00到10:00</p>
						</div>
					</a>
				</li>

			</ul>





		</div>




		<script src="js/jquery-3.3.1.js"></script>
		<script type="text/javascript" charset="utf-8">
			mui.init();
			mui.ajax('/users/get/train', {
				dataType: "json",
				success: function(res) {
					if (res.code == 1) {
						render(res.data);
					}

				}
			})

			mui('.mui-scroll-wrapper').scroll({
				deceleration: 0.0005 //flick 减速系数，系数越大，滚动速度越慢，滚动距离越小，默认值0.0006
			});

			function render(res) {
				var html = ``;
				var str = ``;
				res.forEach(function(file) {
					if (file.date == "2018-12-12") {
						file.num.forEach(function(el) {
							console.log(el)
							str +=
								`<li class="mui-table-view-cell mui-media">
					<a href="javascript:;">
						<img class="mui-media-object mui-pull-left" src="images/北京.jpg">
						<div class="mui-media-body">
							${el.title}
							<p class="mui-ellipsis">${el.data}</p>
						</div>
					</a>
				</li>`

						})
					}

					$('.mui-table-view').html(str)

				})
				res.forEach(function(file) {
					$('.mui-scroll a span').on('click', function() {
						if ($(this).text() == file.date) {
							file.num.forEach(function(el) {
								html +=
									`<li class="mui-table-view-cell mui-media">
									<a href="javascript:;">
										<img class="mui-media-object mui-pull-left" src="images/北京.jpg">
										<div class="mui-media-body">
											${el.title}
											<p class="mui-ellipsis">${el.data}</p>
										</div>
									</a>
								</li>`
						
							
							})
							
						}

						$('.mui-table-view').html(html)
					})

				})




			}
		</script>
	</body>
</html>
